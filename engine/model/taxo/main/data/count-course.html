{{- $page := where .Site.Pages "Type" "course" -}}{{- $count := 0 -}}
{{- range  where .Site.Pages "Type" "course" -}}
    {{- if eq .Page.Params.Module.Layout "" -}}{{ if ne .IsPage true }}
        {{- $count = math.Sum $count 1 -}}{{- end -}}
    {{- end -}}{{- end -}}
{{- return $count -}}