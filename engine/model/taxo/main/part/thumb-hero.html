{{- $image := "" -}}

{{- if .Page.Params.Metadata.thumb -}}
    {{- $image = .Page.Resources.GetMatch .Page.Params.Metadata.thumb -}}
{{- end -}}

{{- if .Page.Params.Module.Cover -}}
    {{- $image = .Page.Resources.GetMatch .Page.Params.Module.Cover -}}
{{- end -}}

{{- $image = resources.GetMatch "media/course/term-hero.png" -}}


{{- if $image -}}
    <picture class="grid">
        {{- $low := $image.Resize "280x webp q100" -}}
        <source media="(width < 420px)" srcset="{{ $low.RelPermalink }}" fetchpriority="high"/>

        {{- $mid := $image.Resize "360x webp q100" -}}
        <source media="(width > 420px)" srcset="{{ $mid.RelPermalink }}" fetchpriority="high"/>

        {{- $top := $low.Fill "320x226 webp q100" -}}
        <img src="{{ $top.RelPermalink }}" data="{{ $top.RelPermalink }}" alt="{{ .Title }}" width="{{ $top.Width }}" height="{{ $top.Height }}" title="{{ .Title }}" fetchpriority="high"/>
    </picture>
{{- end -}}