{{- $fil1 := where .Site.Pages ".Params.terms" "intersect" ( slice  ( .Title | urlize ) ) -}}
{{- $fil2 := where .Site.Pages "Type" "course" -}}{{- $page := $fil1 | intersect $fil2 -}}{{- $list := slice -}}
{{- range $page -}}
    {{- if ne .Page.Params.Module.Layout "term" -}}{{- $list = $list | append . -}}{{- end -}}
{{- end -}}

<div id="list" class="mb-60">
	<div class="divider">
		{{- range ( .Paginate ($list) 2 ).Pages -}}
		<div class="course">
            <a href="{{ .RelPermalink }}" class="card rounded-lg">
                <div class="thumb">{{- partial "course/module/term/main/part/thumb-list.html" . -}}</div>
                <div class="metas">
                    <h2 class="text-md font-bold title mb-20">{{ .Title }}</h2>
                    <div class="meta center-x text-sm capitalize mb-05">
                        <div class="box level">
                            {{- .Page.Params.Module.Plan.Level -}}
                        </div>
                        <div class="box session">
                            {{- partial "lib/course/count-material.html" . -}} <span class="ml-05">Session</span>
                        </div>
                    </div>
                </div>
            </a>
        </div>
		{{- end -}}
	</div>
	<div class="paginate">{{- partial "pagination.html" . -}}</div>
</div> 