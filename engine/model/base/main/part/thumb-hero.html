{{- $image := resources.GetMatch "media/course/hero.png" -}}

{{- if $image -}}
    <picture>

        {{- $sl := $image.Resize "520x webp q100" -}}
        <source media="(width > 1536px)" srcset="{{ $sl.RelPermalink }}" />

        {{- $xl := $image.Resize "460x webp q100" -}}
        <source media="(width > 1024px)" srcset="{{ $xl.RelPermalink }}" />

        {{- $lg := $image.Resize "420x webp q100" -}}
        <source media="(width > 1024px)" srcset="{{ $lg.RelPermalink }}" />

        {{- $md := $image.Resize "380x webp q100" -}}
        <source media="(width > 768px)" srcset="{{ $md.RelPermalink }}" />
        
        {{- $sm := $image.Resize "340x webp q100" -}}
        <source media="(width > 480px)" srcset="{{ $sm.RelPermalink }}" />

        {{- $xs := $image.Resize "280x webp q100" -}}
        <img src="{{ $xs.RelPermalink }}" data="{{ $xs.RelPermalink }}" alt="{{ .Title }}" width="{{ $xs.Width }}" height="{{ $xs.Height }}" title="{{ .Title }}" fetchpriority="high"/>
    </picture>
{{- end -}}