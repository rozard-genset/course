{{- $image := "" -}}

{{- if .Page.Params.Metadata.thumb -}}
    {{- $image = .Page.Resources.GetMatch .Page.Params.Metadata.thumb -}}
{{- end -}}

{{- if .Page.Params.Module.Cover.Image -}}
    {{- $image = .Page.Resources.GetMatch .Page.Params.Module.Cover.Image -}}
{{- end -}}


{{- if $image -}}
    <picture>


        {{- $sm := $image.Resize "575x webp q100" -}}
        <source media="(width > 481px)" srcset="{{ $sm.RelPermalink }}" />

        {{- $xs := $image.Resize "420x webp q100" -}}
         <source media="(width > 481px)" srcset="{{ $sm.RelPermalink }}" />
         
        <img src="{{ $xs.RelPermalink }}" alt="{{ .Title | safe.HTMLAttr }} course hero" class="rounded-xl" width="{{ $xs.Width }}" height="{{ $xs.Height }}" title="{{ .Title }}" loading="lazy"/>
    </picture>
{{- end -}}