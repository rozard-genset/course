{{- $fil1 := where .Site.Pages ".Params.terms" "intersect" ( slice  ( .Title | urlize ) ) -}}
{{- $fil2 := where .Site.Pages "Type" "course" -}}{{- $page := $fil1 | intersect $fil2 -}}{{- $list := slice -}}
{{- range  where .Site.Pages "Type" "course" -}}
    {{- if eq .Page.Params.Module.Layout "term" -}}{{- $list = $list | append . -}}{{- end -}}
{{- end -}}

<div id="term" class="mid mb-40">
    <div class="mb-20">
        <h2 class="text-xl font-bold mb-10">Top Categories</h2><hr>
        <p class="mt-00">Learn on-the-go or right at home with self-paced courses. Get started today!</p>
    </div>
    <ul class="box mb-40">
        {{- range first 6 $list -}}
        <li class=""><a href="{{ .RelPermalink }}">
            <div class="card border-all rounded-lg flex center-x">
                <img src="{{ .RelPermalink }}{{ .Page.Params.Module.Cover }}" class="category-image rounded-full">
                <div class="ml-10 font-bold">{{- .Title -}}</div>
            </div>
        </a></li>
        {{- end -}}
    </ul>
    <a href="#" class="flex center-x">
        <div class="font-bold">All Categories</div>
        <div class="icon md border-all rounded-full ml-20">{{- partial "icon/line/arrow-right.svg" -}}</div>
    </a>
</div>