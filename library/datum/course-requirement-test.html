{{ $all_reqs := slice }}
{{ $all_icon := slice }}
{{ $all_name := slice }}
{{ $all_data := slice }}


{{- range .RegularPagesRecursive.ByWeight -}}
    {{- range .Params.require -}}

        {{- if and ( .name ) ( eq ( in $all_name ( .name | urlize ) ) false ) -}}
            {{- $all_reqs = $all_reqs | append  . -}}
            {{- $all_name = $all_name | append ( .name | urlize ) -}}
        {{ end }}

        {{-  if and ( .icon ) ( eq ( in $all_name ( .name | urlize ) ) true ) -}}
            {{- $all_icon = $all_icon | append  . -}}
        {{- end -}}
    {{- end -}}
{{- end -}}



{{- range $all_reqs -}}
    {{- $name := .name -}}{{- $data := . -}}

    {{- range $all_icon -}}
        {{- if eq .name $name -}}{{- $data =  . -}}{{- end -}}
    {{- end -}}

    {{- $all_data = $all_data | append  $data -}}
{{- end -}}


{{ return $all_data }}