{{- $data := slice  -}}
{{- $list := slice  -}}
{{- $page := .Title -}}
{{- $type := sort .Parent.RegularPagesRecursive.ByWeight "Params.lister" -}}


{{- range $index, $value := $type -}}
    {{ if and ( strings.Contains .RelPermalink "/repo/" ) ( eq ( in $list .Weight ) false ) }}
        {{- $list = $list | append .Weight  -}}
    {{ end }}
{{- end -}} 


{{- range $list -}}

    {{- $uniq := . -}}
    {{- $nows := "" -}}
    {{- $repo := slice -}}

    {{- range $index, $value := $type -}}
        {{- if and ( strings.Contains .RelPermalink "/repo/" ) ( eq .Params.weight ( int $uniq ) ) -}}
            {{- $repo = $repo | append . -}}
            {{- if and ( eq .Title $page ) ( eq $nows "" )  }}
                {{  $nows = true  -}}
            {{ end }}
        {{- end -}}
    {{ end }}

    {{- $data = $data | append ( dict "session" $uniq "status" $nows "list" $repo ) -}}
    {{- $nows = "" -}}
{{- end -}}

{{- return $data -}}